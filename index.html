<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Media List</title>
</head>
<body>
    <h1>Media List</h1>
    <div id="media-container"></div>

    <script>
        const STORAGE_KEY = 'directMediaList';
        let mediaList = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];

        if (mediaList.length === 0) {
            mediaList = [
                {url: 'https://files.catbox.moe/b73eoz.mp4', type: 'video', poster: ''},
                {url: 'https://files.catbox.moe/fz57ex.mp4', type: 'video', poster: ''},
                {url: 'https://files.catbox.moe/2yehb0.jpg', type: 'image'},
                {url: 'https://files.catbox.moe/ya36e9.jpg', type: 'image'},
                {url: 'https://files.catbox.moe/9agbbby.jpg', type: 'image'},
                {url: 'https://files.catbox.moe/y6xoig.jpg', type: 'image'},
                {url: 'https://files.catbox.moe/hnm00y.mp4', type: 'video', poster: ''} // 新增的直链
            ];
        } else {
            const newVideoUrl = 'https://files.catbox.moe/hnm00y.mp4';
            const videoExists = mediaList.some(item => item.url === newVideoUrl);
            
            if (!videoExists) {
                mediaList.unshift({url: newVideoUrl, type: 'video', poster: ''}); // 新增的直链
            }
        }

        // 将 mediaList 渲染到页面
        const mediaContainer = document.getElementById('media-container');
        mediaList.forEach(media => {
            const mediaElement = document.createElement(media.type === 'video' ? 'video' : 'img');
            mediaElement.src = media.url;
            mediaElement.controls = media.type === 'video'; // 仅对视频添加控制条
            mediaContainer.appendChild(mediaElement);
        });

        // 将更新后的 mediaList 存入 localStorage
        localStorage.setItem(STORAGE_KEY, JSON.stringify(mediaList));
    </script>
</body>
</html>